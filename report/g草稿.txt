1、问题描述
我们实现的项目是双目视觉。并且选择自行制备数据库，完成双目矫正，并最终实现双目视觉处理。
为此，我们购买了双目摄像头，自行配置了标定板并采集到图像，完成了数据库。并使用bouguet算法完成了双目标定与双目矫正，随之完成了NCC计算，并且做出了双边滤波和最小生成树聚合两种方式来进行代价聚合；最后通过简单的WTA和亚像素增强完成了偏差值的选取和优化。
2、双目标定与校正
（1）实现方法
这部分包括两个步骤，双目标定与双目校正。其中双目标定是双目校正的基础，它为双目校正的过程提供了外参R（旋转矩阵）与T（平移矩阵），以及左右两个相机的内参矩阵K和畸变矩阵D。通过这六个元素，双目校正环节就可以进一步得到校正旋转矩阵Rrect以及投影矩阵P，来完成左右两张图的校正匹配，并将他们投影到新的坐标上了。但同时双目标定也需要对图像进行一些初始的处理才能使用。
我分别用两种方式来进行双目标定与双目矫正。在双目标定方面，我用cv库自带的函数findChessboardCorners，cornerSubPix，calibrateCamera编写程序来计算双目标定需要的参数，再用stereocalibrate来算出双目矫正需要的参数。同时使用MATLAB的stereo camera calibrator来计算前一种方法中同样的图片来获得用作为对照组的参数。在双目矫正方面，我根据bouguet算法自行编写了计算校正旋转矩阵Rrect和投影矩阵P的函数，同时使用stereoRectify函数来作为对照。
（2）双目标定参数矩阵
首先是双目标定部分，通过cv库函数实现的双目标定最终获得的矩阵为
通过Matlab计算得出的参数矩阵为
（3）双目矫正
自行编写函数得到的矩阵
用stereoRectify函数获得的对照矩阵
（4）最终矫正效果
使用自行编写的矫正程序获得的图片
使用stereoRectify矫正得到的图像
3、	偏差值优化
偏差值的优化包括两个部分；偏差值选取和偏差值优化。
（1）偏差值选取
偏差值选取方面我使用了简单的Winner-Take-All算法，对于图像中的每一个点，从最小视差到最大视差，不断遍历其中的cost来找到最大的那一个，并记录下最大cost的视差坐标，储存到二维的偏差值矩阵里
（2）偏差值优化
